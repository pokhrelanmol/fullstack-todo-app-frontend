{"version":3,"sources":["contexts/UsernameContext.jsx","components/Todo.jsx","components/Modal.jsx","components/Todos.js","components/Nav.jsx","components/RegistrationForm.jsx","components/Login.jsx","components/ChangePassword.jsx","App.js","index.js"],"names":["UsernameContext","createContext","UsernameProvider","children","React","useState","username","setUsername","Provider","value","Todos","dispatch","todos","loading","useContext","history","useHistory","userInput","setUserInput","a","axios","get","headers","localStorage","getItem","req","statusText","data","todo","type","actionTypes","FETCH","payload","alert","error","useEffect","token","jwt","decode","populateTodos","removeItem","replace","style","textAlign","textTransform","paddingRight","className","name","onChange","e","target","placeholder","onClick","ADD","map","key","EDIT","id","DELETE","Modal","isOpen","modalOpen","setModalOpen","newTodo","setNewTodo","position","inset","width","height","backgroundColor","opacity","display","placeContent","UPDATE","updatedTodo","TOGGLE_MODAL","initialState","todoToBeEdited","reducer","state","action","length","todoToBePosted","post","then","console","log","delete","catch","err","filter","editTodo","patch","_todo","Reducer","useReducer","Todo","Nav","location","useLocation","to","pathname","schema","yup","shape","required","min","max","email","password","confirmpassword","oneOf","mobilenumber","matches","profession","optional","RegistrationForm","useForm","resolver","yupResolver","register","handleSubmit","errors","formState","reset","onSubmitHandler","push","errRes","response","status","onSubmit","htmlFor","message","Login","res","userToken","setItem","autoComplete","oldpassword","newpassword","ChangePassword","App","exact","path","component","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.f632870a.chunk.js","sourcesContent":["import React, { createContext } from \"react\";\nexport const UsernameContext = createContext(\"\");\nexport const UsernameProvider = ({ children }) => {\n  const [username, setUsername] = React.useState();\n  return (\n    <UsernameContext.Provider value={{ username, setUsername }}>\n      {children}\n    </UsernameContext.Provider>\n  );\n};\n\nexport default UsernameProvider;\n","import React, { useEffect, useState, useContext } from \"react\";\nimport { actionTypes } from \"./Todos\";\nimport axios from \"axios\";\nimport jwt from \"jsonwebtoken\";\nimport { useHistory } from \"react-router-dom\";\n\nimport { UsernameContext } from \"../contexts/UsernameContext\";\nimport \"../css/todo.css\";\nconst Todos = ({ dispatch, todos, loading }) => {\n  const { username } = useContext(UsernameContext);\n  const history = useHistory();\n  const [userInput, setUserInput] = useState(\"\");\n  const handleChange = (e) => {\n    setUserInput(e.target.value);\n  };\n  async function populateTodos() {\n    const req = await axios.get(\"http://localhost:3001/todos\", {\n      headers: {\n        \"x-access-token\": localStorage.getItem(\"token\"),\n      },\n    });\n    if (req.statusText === \"OK\") {\n      const resData = await req.data.todo;\n      dispatch({\n        type: actionTypes.FETCH,\n        payload: { data: req.data.todo, loading: false },\n      });\n    } else {\n      alert(req.data.error);\n    }\n  }\n  useEffect(() => {\n    const token = localStorage.getItem(\"token\");\n    if (token) {\n      const user = jwt.decode(token);\n      if (user) {\n        populateTodos();\n      } else {\n        localStorage.removeItem(\"token\");\n        history.replace(\"/login\");\n      }\n    } else {\n      history.replace(\"/register\");\n    }\n  }, []);\n  return (\n    <>\n      <h2\n        style={{\n          textAlign: \"right\",\n          textTransform: \"capitalize\",\n          paddingRight: \"10rem\",\n        }}\n      >\n        Hi, {username}\n      </h2>\n      <div className=\"main-container\">\n        <h1 className=\"heading\">Todos</h1>\n        <div className=\"inputs-wrapper\">\n          <input\n            type=\"text\"\n            name=\"input\"\n            value={userInput}\n            onChange={handleChange}\n            placeholder=\"Enter Todo\"\n          />\n          <i\n            className=\"fas fa-plus-circle add-icon icons\"\n            onClick={() => {\n              setUserInput(\"\");\n              dispatch({ type: actionTypes.ADD, payload: userInput });\n            }}\n          ></i>\n          <ol>\n            {loading ? \"loading...\" : \"\"}\n            {todos?.map((todo, key) => (\n              <div key={key} className=\"todos\">\n                <li>{todo.todo}</li>\n                <div className=\"icons-wrapper\">\n                  <i\n                    className=\"fas fa-edit icons edit-icon\"\n                    onClick={() => {\n                      dispatch({\n                        type: actionTypes.EDIT,\n                        payload: todo.id,\n                      });\n                    }}\n                  ></i>\n                  <i\n                    className=\"fas fa-trash-alt icons delete-icon\"\n                    onClick={() =>\n                      dispatch({\n                        type: actionTypes.DELETE,\n                        payload: todo.id,\n                      })\n                    }\n                  ></i>\n                </div>\n              </div>\n            ))}\n          </ol>\n        </div>\n        {/* <Modal isOpen={modalOpen} data={todoToBeEdited} /> */}\n      </div>\n    </>\n  );\n};\n\nexport default Todos;\n","import React, { useEffect } from \"react\";\nimport { actionTypes } from \"./Todos\";\nconst Modal = ({ isOpen, data, dispatch }) => {\n  const [modalOpen, setModalOpen] = React.useState(true);\n  const [newTodo, setNewTodo] = React.useState(\"\");\n  React.useEffect(() => {\n    setModalOpen(isOpen);\n    setNewTodo(data ? data.todo : \"\");\n  }, [isOpen, data]);\n\n  if (modalOpen) {\n    return (\n      <div\n        style={{\n          position: \"absolute\",\n          inset: \"0 0 0 0\",\n          width: \"100%\",\n          height: \"100vh\",\n          backgroundColor: \"gray\",\n          opacity: \"0.70\",\n          display: \"grid\",\n          placeContent: \"center\",\n        }}\n      >\n        <input\n          type=\"text\"\n          value={newTodo}\n          onChange={(e) => setNewTodo(e.target.value)}\n        />\n        <button\n          onClick={() => {\n            dispatch({\n              type: actionTypes.UPDATE,\n              payload: { updatedTodo: newTodo, id: data.id },\n            });\n            setModalOpen(false);\n          }}\n        >\n          Update\n        </button>\n        <button onClick={() => setModalOpen(false)}>cancel</button>\n      </div>\n    );\n  } else {\n    return null;\n  }\n};\nexport default Modal;\n","import React, { useReducer, useEffect } from \"react\";\nimport Todos from \"./Todo\";\nimport axios from \"axios\";\nimport Modal from \"./Modal\";\nexport const actionTypes = {\n  FETCH: \"FETCH_DATA\",\n  ADD: \"ADD_TODO\",\n  DELETE: \"DELETE_TODO\",\n  EDIT: \"EDIT_TODO\",\n  UPDATE: \"UPDATE_TODO\",\n  TOGGLE_MODAL: \"TOGGLE_MODAL\",\n};\n\nlet initialState = {\n  todos: [],\n  loading: true,\n  modalOpen: false,\n  todoToBeEdited: \"\",\n};\nconst reducer = (state, action) => {\n  switch (action.type) {\n    case actionTypes.FETCH:\n      const data = action.payload.data;\n      if (data) {\n        return {\n          ...state,\n\n          loading: action.payload.loading,\n          todos: [...data],\n        };\n      }\n    case actionTypes.ADD:\n      if (action.payload.length < 2) {\n        alert(\"minimum length of todo should be 2\");\n      } else {\n        const todoToBePosted = action.payload;\n        axios\n          .post(\n            \"http://localhost:3001/todos\",\n            { data: todoToBePosted },\n            {\n              headers: {\n                \"x-access-token\": localStorage.getItem(\"token\"),\n              },\n            }\n          )\n          .then(() => console.log(\"todo posted\"));\n        console.log([...state.todos[0].todo]);\n        return {\n          ...state,\n          todos: [...state.todos, { todo: todoToBePosted }],\n          loading: false,\n        };\n      }\n    case actionTypes.DELETE:\n      axios\n        .delete(\"http://localhost:3001/todos\", {\n          data: { id: action.payload },\n        })\n        .then(() => alert(`todo with id ${action.payload} deleted`))\n        .catch((err) => console.log(err));\n      return {\n        ...state,\n        todos: state.todos.filter((todo) => todo.id !== action.payload),\n      };\n    case actionTypes.EDIT:\n      let editTodo;\n      state.todos.map((todo) => {\n        if (todo.id === action.payload) {\n          editTodo = todo;\n        }\n      });\n      return {\n        ...state,\n        modalOpen: true,\n        todoToBeEdited: editTodo,\n      };\n    case actionTypes.UPDATE:\n      axios\n        .patch(\"http://localhost:3001/todos\", {\n          id: action.payload.id,\n          newTodo: action.payload.updatedTodo,\n        })\n        .then((data) => {\n          console.log(data);\n          alert(\"todo updated\");\n        })\n        .catch((err) => console.error(err));\n      return {\n        ...state,\n        todos: state.todos.map((_todo) => {\n          if (_todo.id === action.payload.id) {\n            _todo.todo = action.payload.updatedTodo;\n          }\n          return _todo;\n        }),\n        modalOpen: false,\n      };\n    default:\n      return state;\n  }\n};\n\nconst Reducer = () => {\n  const [state, dispatch] = useReducer(reducer, initialState);\n\n  return (\n    <>\n      <Todos\n        dispatch={dispatch}\n        todos={state.todos}\n        loading={state.loading}\n        modalOpen={state.modalOpen}\n        todoToBeEdited={state.todoToBeEdited}\n      />\n      <Modal\n        dispatch={dispatch}\n        isOpen={state.modalOpen}\n        data={state.todoToBeEdited}\n      />\n    </>\n  );\n};\n\nexport default Reducer;\n","import React from \"react\";\nimport { NavLink } from \"react-router-dom\";\n\nimport \"../css/nav.css\";\nimport { useLocation } from \"react-router-dom\";\nconst Nav = () => {\n  const handleLogout = () => {\n    localStorage.removeItem(\"token\");\n  };\n  const location = useLocation();\n  return (\n    <>\n      <nav>\n        <NavLink className=\"nav-link\" to=\"/\">\n          Home\n        </NavLink>\n        <NavLink className=\"nav-link\" to=\"/register\">\n          Register\n        </NavLink>\n        <NavLink onClick={handleLogout} className=\"nav-link\" to=\"/login\">\n          {location.pathname === \"/login\"\n            ? \"\"\n            : location.pathname === \"/register\"\n            ? \"Login\"\n            : \"Logout\"}\n        </NavLink>\n        <NavLink className=\"nav-link\" to=\"/change-password\">\n          ChangePassword\n        </NavLink>\n      </nav>\n    </>\n  );\n};\nexport default Nav;\n","import React from \"react\";\nimport axios from \"axios\";\nimport { useHistory } from \"react-router-dom\";\nimport { useForm } from \"react-hook-form\";\nimport { yupResolver } from \"@hookform/resolvers/yup\";\nimport * as yup from \"yup\";\nimport \"../css/registrationForm.css\";\nconst schema = yup.object().shape({\n  name: yup.string().required().min(2).max(30),\n  email: yup.string().required().email(),\n  password: yup.string().required().min(8).max(32),\n  confirmpassword: yup\n    .string()\n    .required()\n    .oneOf([yup.ref(\"password\")], \"Passwords does not match\"),\n  mobilenumber: yup\n    .string()\n    .min(10)\n    .max(10)\n    .matches(\n      /^((\\\\+[1-9]{1,4}[ \\\\-]*)|(\\\\([0-9]{2,3}\\\\)[ \\\\-]*)|([0-9]{2,4})[ \\\\-]*)*?[0-9]{3,4}?[ \\\\-]*[0-9]{3,4}?$/,\n      \"Phone number is not valid\"\n    ),\n  profession: yup.string().optional(\"optional\").min(3).max(30),\n});\n\nconst RegistrationForm = () => {\n  const history = useHistory();\n  const {\n    register,\n    handleSubmit,\n    formState: { errors },\n    reset,\n  } = useForm({\n    resolver: yupResolver(schema),\n  });\n  const onSubmitHandler = async (data) => {\n    // storing data in database\n    try {\n      const res = await axios.post(\"http://localhost:3001/register\", data);\n      alert(\"user registered\");\n      history.push(\"/login\");\n      reset();\n    } catch (err) {\n      const errRes = err.response;\n      if (errRes.status === 400) {\n        alert(errRes.data.error);\n      } else if (errRes.status === 500) {\n        alert(errRes.data.error);\n      }\n    }\n  };\n  return (\n    <div className=\"registration-main-div\">\n      <h2 className=\"heading\">Register</h2>\n      <form className=\"form\" onSubmit={handleSubmit(onSubmitHandler)}>\n        <label className=\"control-label\" htmlFor=\"name\">\n          Name\n        </label>\n        <div className=\"input-wrapper\">\n          <i className=\"fa fa-user\"></i>\n          <input\n            {...register(\"name\")}\n            type=\"text\"\n            className=\"name\"\n            placeholder=\"Name\"\n          />\n        </div>\n        <p>{errors.name?.message}</p>\n\n        <label className=\"control-label\" htmlFor=\"lastName\">\n          Email\n        </label>\n\n        <div className=\"input-wrapper\">\n          <i className=\"fa fa-envelope\"></i>\n          <input\n            {...register(\"email\")}\n            type=\"email\"\n            className=\"email\"\n            placeholder=\"Email\"\n          />\n        </div>\n        <p>{errors.email?.message}</p>\n\n        <label className=\"control-label\" htmlFor=\"mobileNumber\">\n          Mobile Number\n        </label>\n\n        <div className=\"input-wrapper\">\n          <i className=\"fas fa-phone\"></i>\n          <input\n            {...register(\"mobilenumber\")}\n            type=\"text\"\n            className=\"number\"\n            placeholder=\"Mobile Number\"\n          />\n        </div>\n        <p>{errors.mobilenumber?.message}</p>\n\n        <label className=\"control-label\" htmlFor=\"profession\">\n          Profession\n        </label>\n\n        <div className=\"input-wrapper\">\n          <i className=\"fas fa-user-tie\"></i>\n          <input\n            {...register(\"profession\")}\n            type=\"text\"\n            className=\"profession\"\n            placeholder=\"Your profession\"\n          />\n        </div>\n        <p>{errors.profession?.message}</p>\n\n        <label className=\"control-label\" htmlFor=\"password\">\n          Password\n        </label>\n\n        <div className=\"input-wrapper\">\n          <i className=\"fas fa-lock\"></i>\n          <input\n            {...register(\"password\")}\n            type=\"password\"\n            className=\"password\"\n            placeholder=\"Password\"\n          />\n        </div>\n        <p>{errors.password?.message}</p>\n\n        <label className=\"control-label\" htmlFor=\"confirmPassword\">\n          Confirm Password\n        </label>\n\n        <div className=\"input-wrapper\">\n          <i className=\"fas fa-lock\"></i>\n          <input\n            {...register(\"confirmpassword\")}\n            type=\"password\"\n            className=\"confirm-password\"\n            placeholder=\"Confirm Password\"\n          />\n        </div>\n        <p>{errors.confirmpassword?.message}</p>\n\n        <button type=\"submit\" className=\"submit-button\">\n          Submit\n        </button>\n      </form>\n    </div>\n  );\n};\n\nexport default RegistrationForm;\n","import React from \"react\";\nimport { useForm } from \"react-hook-form\";\nimport { yupResolver } from \"@hookform/resolvers/yup\";\nimport axios from \"axios\";\nimport { useHistory } from \"react-router-dom\";\nimport { UsernameContext } from \"../contexts/UsernameContext\";\n\nimport * as yup from \"yup\";\nconst schema = yup.object().shape({\n  name: yup.string().required().min(2).max(30),\n  password: yup.string().required().min(8).max(32),\n});\nconst Login = () => {\n  const { setUsername } = React.useContext(UsernameContext);\n  const history = useHistory();\n  const {\n    register,\n    handleSubmit,\n    formState: { errors },\n    reset,\n  } = useForm({\n    resolver: yupResolver(schema),\n  });\n  const onSubmitHandler = async (data) => {\n    try {\n      const res = await axios.post(\"http://localhost:3001/login\", data);\n      if (res.data.userToken) {\n        localStorage.setItem(\"token\", res.data.userToken);\n        alert(\"login successfull\");\n        setUsername(data.name);\n        history.push(\"/\");\n        reset();\n      }\n    } catch (err) {\n      const errRes = err.response;\n      console.log(errRes);\n      if (errRes.status === 400) {\n        alert(errRes.data.error);\n      } else if (errRes.status === 404) {\n        alert(errRes.data.error);\n      } else {\n        alert(\"Internal errors occured\");\n      }\n    }\n  };\n\n  return (\n    <div className=\"container\">\n      <h2 className=\"heading\">Login</h2>\n\n      <form className=\"form\" onSubmit={handleSubmit(onSubmitHandler)}>\n        <label className=\"control-label\" htmlFor=\"Name\">\n          Name\n        </label>\n        <div className=\"input-wrapper\">\n          <i className=\"fa fa-user\"></i>\n          <input\n            {...register(\"name\")}\n            type=\"text\"\n            className=\"Name\"\n            placeholder=\"Name\"\n          />\n        </div>\n        <p>{errors.name?.message}</p>\n\n        <label className=\"control-label\" htmlFor=\"password\">\n          Password\n        </label>\n\n        <div className=\"input-wrapper\">\n          <i className=\"fas fa-lock\"></i>\n          <input\n            autoComplete=\"off\"\n            {...register(\"password\")}\n            type=\"password\"\n            className=\"password\"\n            placeholder=\"Password\"\n          />\n        </div>\n        <p>{errors.password?.message}</p>\n        <button type=\"submit\" className=\"submit-button\">\n          Login\n        </button>\n      </form>\n    </div>\n  );\n};\n\nexport default Login;\n","import React from \"react\";\nimport { useForm } from \"react-hook-form\";\nimport { yupResolver } from \"@hookform/resolvers/yup\";\nimport axios from \"axios\";\nimport { useHistory } from \"react-router-dom\";\nimport * as yup from \"yup\";\nconst schema = yup.object().shape({\n  oldpassword: yup.string().required().min(8).max(30),\n  newpassword: yup.string().required().min(8).max(32),\n});\nconst ChangePassword = () => {\n  const history = useHistory();\n  const {\n    register,\n    handleSubmit,\n    formState: { errors },\n    reset,\n  } = useForm({\n    resolver: yupResolver(schema),\n  });\n  const onSubmitHandler = async (data) => {\n    try {\n      const res = await axios.post(\n        \"http://localhost:3001/change-password\",\n        data,\n        {\n          headers: {\n            \"x-access-token\": localStorage.getItem(\"token\"),\n          },\n        }\n      );\n      if (res.status === 200) {\n        alert(res.data.message);\n        history.push(\"/login\");\n      }\n    } catch (err) {\n      console.log(err);\n      const errRes = err.response;\n      if (errRes.status === 400) {\n        alert(errRes.data.error);\n      } else if (errRes.status === 404) {\n        alert(errRes.data.error);\n      } else {\n        alert(\"Internal errors occured\");\n      }\n    }\n  };\n\n  return (\n    <div className=\"container\">\n      <h2 className=\"heading\">Login</h2>\n\n      <form className=\"form\" onSubmit={handleSubmit(onSubmitHandler)}>\n        <label className=\"control-label\" htmlFor=\"Name\">\n          Old Password\n        </label>\n        <div className=\"input-wrapper\">\n          <i className=\"fa fa-lock\"></i>\n          <input\n            {...register(\"oldpassword\")}\n            type=\"text\"\n            className=\"Name\"\n            placeholder=\"Old Password\"\n          />\n        </div>\n        <p>{errors.oldpassword?.message}</p>\n\n        <label className=\"control-label\" htmlFor=\"password\">\n          New Password\n        </label>\n\n        <div className=\"input-wrapper\">\n          <i className=\"fas fa-lock\"></i>\n          <input\n            autoComplete=\"off\"\n            {...register(\"newpassword\")}\n            type=\"password\"\n            className=\"password\"\n            placeholder=\"New Password\"\n          />\n        </div>\n        <p>{errors.newpassword?.message}</p>\n        <button type=\"submit\" className=\"submit-button\">\n          Change\n        </button>\n      </form>\n    </div>\n  );\n};\n\nexport default ChangePassword;\n","import React from \"react\";\nimport Todos from \"../src/components/Todos\";\nimport Nav from \"./components/Nav\";\nimport { BrowserRouter, Switch, Route } from \"react-router-dom\";\nimport RegistrationForm from \"./components/RegistrationForm\";\nimport Login from \"./components/Login\";\nimport ChangePassword from \"../src/components/ChangePassword\";\n\nimport { UsernameProvider } from \"./contexts/UsernameContext\";\nfunction App() {\n  return (\n    <BrowserRouter>\n      <UsernameProvider>\n        <Nav />\n        <Switch>\n          <Route exact path=\"/\">\n            <Todos />\n          </Route>\n          <Route exact path=\"/register\" component={RegistrationForm}></Route>\n          <Route exact path=\"/login\" component={Login}></Route>\n          <Route\n            exact\n            path=\"/change-password\"\n            component={ChangePassword}\n          ></Route>\n        </Switch>\n      </UsernameProvider>\n    </BrowserRouter>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}